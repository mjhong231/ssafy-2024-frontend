{"mappings":"ACAA,MAAM,EAAgB,SAAS,cAAc,CAAC,kBACxC,EAAc,SAAS,cAAc,CAAC,gBACtC,EAAY,SAAS,cAAc,CAAC,cACpC,EAAc,SAAS,cAAc,CAAC,gBAGtC,EAAN,qCAIA,SAAS,EAAoB,CAAO,CAAE,EAAS,MAAM,EACnD,IAAM,EAAU,SAAS,aAAa,CAAC,OACvC,EAAQ,SAAS,CAAC,GAAG,CAAC,OAAQ,OAAQ,cAAe,aAErD,IAAM,EAAS,SAAS,aAAa,CAAC,OACtC,EAAO,SAAS,CAAC,GAAG,CAClB,OACA,OACA,eACA,gBACA,OACA,eACA,iBACA,YACA,cAGE,AAAW,cAAX,GACF,EAAO,SAAS,CAAC,GAAG,CAAC,oBAAqB,iBAAkB,gBAC5D,EAAO,WAAW,CAAG,MAErB,EAAO,SAAS,CAAC,GAAG,CAAC,oBAAqB,gBAAiB,eAC3D,EAAO,WAAW,CAAG,KAGvB,IAAM,EAAS,SAAS,aAAa,CAAC,OAqBtC,OApBA,EAAO,SAAS,CAAC,GAAG,CAClB,aACA,eACA,MACA,aACA,sBACA,kBACA,aAGE,AAAW,cAAX,EACF,EAAO,SAAS,CAAC,GAAG,CAAC,cAAe,iBAEpC,EAAO,SAAS,CAAC,GAAG,CAAC,cAAe,cAGtC,EAAO,WAAW,CAAG,EAErB,EAAQ,WAAW,CAAC,GACpB,EAAQ,WAAW,CAAC,GACb,CACT,CAEA,SAAS,IACP,EAAc,SAAS,CAAG,EAAc,YAAY,AACtD,CAEA,eAAe,EAAqB,CAAW,EAE7C,IAAM,EACJ,AAAS,cAFE,EAAY,KAAK,CAEL,CAAA,EAAG,EAAS,UAAU,CAAC,CAAG,CAAA,EAAG,EAAS,KAAK,CAAC,CAE/D,EAAW,MAAM,MAAM,EAAK,CAChC,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,EACA,KAAM,KAAK,SAAS,CAAC,CAAE,QAAS,CAAY,EAC9C,GAEA,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,+BAIlB,MAAO,AADM,CAAA,MAAM,EAAS,IAAI,EAAhC,EACY,KAAK,AACnB,CAEA,EAAY,gBAAgB,CAAC,SAAU,MAAO,IAC5C,EAAE,cAAc,GAChB,IAAM,EAAU,EAAU,KAAK,CAAC,IAAI,GACpC,GAAK,GAEL,EAAc,WAAW,CAAC,EAAoB,EAAS,SACvD,EAAU,KAAK,CAAG,GAClB,IAEA,GAAI,CACF,IAAM,EAAW,MAAM,EAAqB,GAC5C,EAAc,WAAW,CAAC,EAAoB,EAAU,cACxD,GACF,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,qCAAsC,GACpD,EAAc,WAAW,CACvB,EACE,0CACA,cAGJ,GACF,EACF","sources":["<anon>","src/app.js"],"sourcesContent":["var $e73bf42412feb220$exports = {};\nconst $e73bf42412feb220$var$chatContainer = document.getElementById(\"chat-container\");\nconst $e73bf42412feb220$var$messageForm = document.getElementById(\"message-form\");\nconst $e73bf42412feb220$var$userInput = document.getElementById(\"user-input\");\nconst $e73bf42412feb220$var$apiSelector = document.getElementById(\"api-selector\");\n// We'll read the API endpoint from an environment variable\nconst $e73bf42412feb220$var$BASE_URL = \"https://ssafy-2024-backend.fly.dev\";\n// This will be replaced at build time by Parcel with the appropriate value\n// from the corresponding .env file.\nfunction $e73bf42412feb220$var$createMessageBubble(content, sender = \"user\") {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"mb-6\", \"flex\", \"items-start\", \"space-x-3\");\n    const avatar = document.createElement(\"div\");\n    avatar.classList.add(\"w-10\", \"h-10\", \"rounded-full\", \"flex-shrink-0\", \"flex\", \"items-center\", \"justify-center\", \"font-bold\", \"text-white\");\n    if (sender === \"assistant\") {\n        avatar.classList.add(\"bg-gradient-to-br\", \"from-green-400\", \"to-green-600\");\n        avatar.textContent = \"A\";\n    } else {\n        avatar.classList.add(\"bg-gradient-to-br\", \"from-blue-500\", \"to-blue-700\");\n        avatar.textContent = \"U\";\n    }\n    const bubble = document.createElement(\"div\");\n    bubble.classList.add(\"max-w-full\", \"md:max-w-2xl\", \"p-3\", \"rounded-lg\", \"whitespace-pre-wrap\", \"leading-relaxed\", \"shadow-sm\");\n    if (sender === \"assistant\") bubble.classList.add(\"bg-gray-200\", \"text-gray-900\");\n    else bubble.classList.add(\"bg-blue-600\", \"text-white\");\n    bubble.textContent = content;\n    wrapper.appendChild(avatar);\n    wrapper.appendChild(bubble);\n    return wrapper;\n}\nfunction $e73bf42412feb220$var$scrollToBottom() {\n    $e73bf42412feb220$var$chatContainer.scrollTop = $e73bf42412feb220$var$chatContainer.scrollHeight;\n}\nasync function $e73bf42412feb220$var$getAssistantResponse(userMessage) {\n    const mode = $e73bf42412feb220$var$apiSelector.value;\n    const url = mode === \"assistant\" ? `${$e73bf42412feb220$var$BASE_URL}/assistant` : `${$e73bf42412feb220$var$BASE_URL}/chat`;\n    const response = await fetch(url, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            message: userMessage\n        })\n    });\n    if (!response.ok) throw new Error(\"Network response was not ok\");\n    const data = await response.json();\n    return data.reply;\n}\n$e73bf42412feb220$var$messageForm.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    const message = $e73bf42412feb220$var$userInput.value.trim();\n    if (!message) return;\n    $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(message, \"user\"));\n    $e73bf42412feb220$var$userInput.value = \"\";\n    $e73bf42412feb220$var$scrollToBottom();\n    try {\n        const response = await $e73bf42412feb220$var$getAssistantResponse(message);\n        $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(response, \"assistant\"));\n        $e73bf42412feb220$var$scrollToBottom();\n    } catch (error) {\n        console.error(\"Error fetching assistant response:\", error);\n        $e73bf42412feb220$var$chatContainer.appendChild($e73bf42412feb220$var$createMessageBubble(\"Error fetching response. Check console.\", \"assistant\"));\n        $e73bf42412feb220$var$scrollToBottom();\n    }\n});\n\n\n//# sourceMappingURL=index.66cd6141.js.map\n","const chatContainer = document.getElementById(\"chat-container\");\r\nconst messageForm = document.getElementById(\"message-form\");\r\nconst userInput = document.getElementById(\"user-input\");\r\nconst apiSelector = document.getElementById(\"api-selector\");\r\n\r\n// We'll read the API endpoint from an environment variable\r\nconst BASE_URL = process.env.API_ENDPOINT;\r\n// This will be replaced at build time by Parcel with the appropriate value\r\n// from the corresponding .env file.\r\n\r\nfunction createMessageBubble(content, sender = \"user\") {\r\n  const wrapper = document.createElement(\"div\");\r\n  wrapper.classList.add(\"mb-6\", \"flex\", \"items-start\", \"space-x-3\");\r\n\r\n  const avatar = document.createElement(\"div\");\r\n  avatar.classList.add(\r\n    \"w-10\",\r\n    \"h-10\",\r\n    \"rounded-full\",\r\n    \"flex-shrink-0\",\r\n    \"flex\",\r\n    \"items-center\",\r\n    \"justify-center\",\r\n    \"font-bold\",\r\n    \"text-white\"\r\n  );\r\n\r\n  if (sender === \"assistant\") {\r\n    avatar.classList.add(\"bg-gradient-to-br\", \"from-green-400\", \"to-green-600\");\r\n    avatar.textContent = \"A\";\r\n  } else {\r\n    avatar.classList.add(\"bg-gradient-to-br\", \"from-blue-500\", \"to-blue-700\");\r\n    avatar.textContent = \"U\";\r\n  }\r\n\r\n  const bubble = document.createElement(\"div\");\r\n  bubble.classList.add(\r\n    \"max-w-full\",\r\n    \"md:max-w-2xl\",\r\n    \"p-3\",\r\n    \"rounded-lg\",\r\n    \"whitespace-pre-wrap\",\r\n    \"leading-relaxed\",\r\n    \"shadow-sm\"\r\n  );\r\n\r\n  if (sender === \"assistant\") {\r\n    bubble.classList.add(\"bg-gray-200\", \"text-gray-900\");\r\n  } else {\r\n    bubble.classList.add(\"bg-blue-600\", \"text-white\");\r\n  }\r\n\r\n  bubble.textContent = content;\r\n\r\n  wrapper.appendChild(avatar);\r\n  wrapper.appendChild(bubble);\r\n  return wrapper;\r\n}\r\n\r\nfunction scrollToBottom() {\r\n  chatContainer.scrollTop = chatContainer.scrollHeight;\r\n}\r\n\r\nasync function getAssistantResponse(userMessage) {\r\n  const mode = apiSelector.value;\r\n  const url =\r\n    mode === \"assistant\" ? `${BASE_URL}/assistant` : `${BASE_URL}/chat`;\r\n\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ message: userMessage }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Network response was not ok\");\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.reply;\r\n}\r\n\r\nmessageForm.addEventListener(\"submit\", async (e) => {\r\n  e.preventDefault();\r\n  const message = userInput.value.trim();\r\n  if (!message) return;\r\n\r\n  chatContainer.appendChild(createMessageBubble(message, \"user\"));\r\n  userInput.value = \"\";\r\n  scrollToBottom();\r\n\r\n  try {\r\n    const response = await getAssistantResponse(message);\r\n    chatContainer.appendChild(createMessageBubble(response, \"assistant\"));\r\n    scrollToBottom();\r\n  } catch (error) {\r\n    console.error(\"Error fetching assistant response:\", error);\r\n    chatContainer.appendChild(\r\n      createMessageBubble(\r\n        \"Error fetching response. Check console.\",\r\n        \"assistant\"\r\n      )\r\n    );\r\n    scrollToBottom();\r\n  }\r\n});\r\n"],"names":["$e73bf42412feb220$var$chatContainer","document","getElementById","$e73bf42412feb220$var$messageForm","$e73bf42412feb220$var$userInput","$e73bf42412feb220$var$apiSelector","$e73bf42412feb220$var$BASE_URL","$e73bf42412feb220$var$createMessageBubble","content","sender","wrapper","createElement","classList","add","avatar","textContent","bubble","appendChild","$e73bf42412feb220$var$scrollToBottom","scrollTop","scrollHeight","$e73bf42412feb220$var$getAssistantResponse","userMessage","url","mode","value","response","fetch","method","headers","body","JSON","stringify","message","ok","Error","data","json","reply","addEventListener","e","preventDefault","trim","error","console"],"version":3,"file":"index.66cd6141.js.map"}